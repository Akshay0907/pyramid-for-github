"use strict";(self.webpackChunksakai=self.webpackChunksakai||[]).push([[862],{3862:(I,u,i)=>{i.r(u),i.d(u,{LoginModule:()=>F});var d=i(9808),g=i(2047),r=i(2382),c=i(9783);class C{}var e=i(1223),x=i(2051),_=i(7029),m=i(4004),Z=i(520);let y=(()=>{class o{constructor(t){this.http=t}login(t){return this.http.post("/authenticate",t).pipe((0,m.U)(n=>n))}forgotPassword(t,n){return this.http.get(`/api/users/forgotPassword/${t}/${n}`).pipe((0,m.U)(s=>s))}}return o.\u0275fac=function(t){return new(t||o)(e.LFG(Z.eN))},o.\u0275prov=e.Yz7({token:o,factory:o.\u0275fac,providedIn:"root"}),o})();var p=i(845),f=i(1208),h=i(1424),v=i(8356),w=i(5315);function T(o,a){1&o&&(e.TgZ(0,"div",23),e._uU(1,"Please enter Correct Username And Password "),e.qZA())}function L(o,a){1&o&&(e.TgZ(0,"div",31),e._uU(1,"This input filed is not valid."),e.qZA())}function N(o,a){1&o&&(e.TgZ(0,"div",31),e._uU(1,"This input filed is not valid."),e.qZA())}const b=function(o){return{"ng-invalid ng-dirty":o}};function P(o,a){if(1&o&&(e.TgZ(0,"form",24),e._UZ(1,"img",25),e.TgZ(2,"div",26)(3,"label",27),e._uU(4,"Username"),e.qZA(),e._UZ(5,"input",28),e.YNc(6,L,2,0,"div",29),e.qZA(),e.TgZ(7,"div",26)(8,"label",27),e._uU(9,"New Password"),e.qZA(),e._UZ(10,"input",30),e.YNc(11,N,2,0,"div",29),e.qZA()()),2&o){const t=e.oxw();e.Q6J("formGroup",t.forgetPasswordForm),e.xp6(1),e.MGl("src","assets/layout/images/","pyramidlogo",".jpg",e.LSH),e.xp6(4),e.Q6J("ngClass",e.VKq(6,b,t.submitted&&!t.forgetPasswordForm.value.userName)),e.xp6(1),e.Q6J("ngIf",!t.forgetPasswordForm.controls.userName.valid&&t.forgetPasswordForm.controls.userName.touched&&!t.forgetPasswordForm.controls.userName&&t.submitted),e.xp6(4),e.Q6J("ngClass",e.VKq(8,b,t.submitted&&!t.forgetPasswordForm.value.password)),e.xp6(1),e.Q6J("ngIf",!t.forgetPasswordForm.controls.password.valid&&t.forgetPasswordForm.controls.password.touched&&!t.forgetPasswordForm.controls.password&&t.submitted)}}function k(o,a){if(1&o){const t=e.EpF();e.TgZ(0,"button",32),e.NdJ("click",function(){e.CHM(t);const s=e.oxw();return e.KtG(s.cancelButton())}),e.qZA(),e.TgZ(1,"button",33),e.NdJ("click",function(){e.CHM(t);const s=e.oxw();return e.KtG(s.requestButton())}),e.qZA()}if(2&o){const t=e.oxw();e.xp6(1),e.Q6J("disabled",t.forgetPasswordForm.invalid)}}const M=function(){return{width:"450px"}};let A=(()=>{class o{constructor(t,n,s,l,U){this.layoutService=t,this.service=n,this.router=s,this.messageService=l,this.loginService=U,this.valCheck=["remember"],this.authenticationRequest=new C,this.productDialog=!1,this.login=new r.cw({userName:new r.NI(""),password:new r.NI("")}),localStorage.clear()}ngOnInit(){this.submitted=!1,this.forgetPasswordForm=new r.cw({userName:new r.NI("",[r.kI.required]),password:new r.NI("",[r.kI.required,r.kI.minLength(6)])})}inChange(){this.submitted=!1,this.login.patchValue({userName:this.userName,password:this.password})}ProceedLogin(){this.login.valid&&this.service.ProceedLogin(this.login.value).subscribe(t=>{console.log(t),null!=t&&(this.responsedata=t,localStorage.setItem("token",this.responsedata.accessToken),this.router.navigate([""]))},t=>{401===t.status&&(this.submitted=!0,this.messageService.add({key:"tst",severity:"error",summary:"",detail:"Authentication Failed",life:3e3}))})}cancelButton(){console.log(this.forgetPasswordForm.value),this.productDialog=!1}requestButton(){this.productDialog=!1,this.loginService.forgotPassword(this.forgetPasswordForm.value.userName,this.forgetPasswordForm.value.password).subscribe(t=>{console.log("coming in method"),this.messageService.add({key:"tst",severity:"success",summary:"Successful",detail:"Change Password Request Email Sent Successfully",life:3e3}),console.log("mnmcnmcvnmcv")},t=>console.log(t))}clickablebutton(){this.productDialog=!0}}return o.\u0275fac=function(t){return new(t||o)(e.Y36(x.P),e.Y36(_.e),e.Y36(g.F0),e.Y36(c.ez),e.Y36(y))},o.\u0275cmp=e.Xpm({type:o,selectors:[["app-login"]],features:[e._Bn([c.YP])],decls:29,vars:11,consts:[[1,"surface-0","flex","align-items-center","justify-content-center","min-h-screen","min-w-screen","overflow-hidden"],[1,"grid","justify-content-center","p-2","lg:p-0",2,"min-width","80%"],[1,"col-12","xl:col-6",2,"border-radius","56px","padding","0.3rem","background","linear-gradient(180deg, var(--primary-color) 10%, rgba(33, 150, 243, 0) 30%)"],[1,"h-full","w-full","m-0","py-7","px-4",2,"border-radius","53px","background","linear-gradient(180deg, var(--surface-50) 38.9%, var(--surface-0))"],[1,"text-center","mb-5"],["src","assets/layout/images/pyramid-biglogo.jpg","alt","Image","height","135",1,"mb-3"],[1,"text-900","text-3xl","font-medium","mb-3"],[1,"text-600","font-medium"],["style","color:red","class","font-size:5 text-center",4,"ngIf"],[1,"w-full","md:w-10","mx-auto",3,"keyup.enter"],["for","username",1,"block","text-900","text-xl","font-medium","mb-2"],["id","username","type","text","placeholder","Username","pInputText","",1,"w-full","mb-3",2,"padding","1rem",3,"ngModel","ngModelChange"],["for","password",1,"block","text-900","font-medium","text-xl","mb-2"],["id","password","indicator","false","placeholder","Password","styleClass","w-full mb-3",3,"ngModel","feedback","toggleMask","ngModelChange"],[1,"flex","align-items-center","justify-content-between","mb-5"],[1,"flex","align-items-center"],["id","rememberme1","styleClass","mr-2",3,"binary"],["for","rememberme1"],[1,"font-medium","no-underline","ml-2","text-right","cursor-pointer",2,"color","var(--primary-color)",3,"click"],["pButton","","pRipple","","label","Sign In",1,"w-full","p-3","text-xl",3,"click"],["header","Change Password Details",1,"p-fluid",3,"visible","modal","visibleChange"],["pTemplate","content"],["pTemplate","footer"],[1,"font-size:5","text-center",2,"color","red"],[3,"formGroup"],["width","150",1,"mt-0","mx-auto","mb-5","block","shadow-2",3,"src"],[1,"field"],["for","name"],["type","text","pInputText","","id","name","formControlName","userName","required","","autofocus","",3,"ngClass"],["style","color: red;",4,"ngIf"],["type","text","pInputText","","id","password","formControlName","password","required","","autofocus","",3,"ngClass"],[2,"color","red"],["pButton","","pRipple","","label","Cancel","icon","pi pi-times",1,"p-button-text",3,"click"],["pButton","","pRipple","","label","Request","icon","pi pi-check",1,"p-button-text",3,"disabled","click"]],template:function(t,n){1&t&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4),e._UZ(5,"img",5),e.TgZ(6,"div",6),e._uU(7,"Welcome"),e.qZA(),e.TgZ(8,"span",7),e._uU(9,"Sign in to continue"),e.qZA()(),e.YNc(10,T,2,0,"div",8),e.TgZ(11,"div",9),e.NdJ("keyup.enter",function(){return n.ProceedLogin()}),e.TgZ(12,"label",10),e._uU(13,"Username"),e.qZA(),e.TgZ(14,"input",11),e.NdJ("ngModelChange",function(l){return n.userName=l})("ngModelChange",function(){return n.inChange()}),e.qZA(),e.TgZ(15,"label",12),e._uU(16,"Password"),e.qZA(),e.TgZ(17,"p-password",13),e.NdJ("ngModelChange",function(l){return n.password=l})("ngModelChange",function(){return n.inChange()}),e.qZA(),e.TgZ(18,"div",14)(19,"div",15),e._UZ(20,"p-checkbox",16),e.TgZ(21,"label",17),e._uU(22,"Remember me"),e.qZA()(),e.TgZ(23,"a",18),e.NdJ("click",function(){return n.clickablebutton()}),e._uU(24,"Forgot password?"),e.qZA()(),e.TgZ(25,"button",19),e.NdJ("click",function(){return n.ProceedLogin()}),e.qZA()()()(),e.TgZ(26,"p-dialog",20),e.NdJ("visibleChange",function(l){return n.productDialog=l}),e.YNc(27,P,12,10,"ng-template",21),e.YNc(28,k,2,1,"ng-template",22),e.qZA()()()),2&t&&(e.xp6(10),e.Q6J("ngIf",n.submitted),e.xp6(4),e.Q6J("ngModel",n.userName),e.xp6(3),e.Q6J("ngModel",n.password)("feedback",!1)("toggleMask",!0),e.xp6(3),e.Q6J("binary",!0),e.xp6(6),e.Akn(e.DdM(10,M)),e.Q6J("visible",n.productDialog)("modal",!0))},dependencies:[d.mk,d.O5,p.Hq,f.XZ,h.o,r._Y,r.Fj,r.JJ,r.JL,r.Q7,r.On,v.ro,c.jx,r.sg,r.u,w.V],styles:["[_nghost-%COMP%]     .p-password input{width:100%;padding:1rem}[_nghost-%COMP%]     .pi-eye{transform:scale(1.6);margin-right:1rem;color:var(--primary-color)!important}[_nghost-%COMP%]     .pi-eye-slash{transform:scale(1.6);margin-right:1rem;color:var(--primary-color)!important}"]}),o})(),J=(()=>{class o{}return o.\u0275fac=function(t){return new(t||o)},o.\u0275mod=e.oAB({type:o}),o.\u0275inj=e.cJS({imports:[g.Bz.forChild([{path:"",component:A}]),g.Bz]}),o})(),F=(()=>{class o{}return o.\u0275fac=function(t){return new(t||o)},o.\u0275mod=e.oAB({type:o}),o.\u0275inj=e.cJS({imports:[d.ez,J,p.hJ,f.nD,h.j,r.u5,v.gz,r.UX,w.S]}),o})()}}]);