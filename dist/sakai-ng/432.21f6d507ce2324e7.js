"use strict";(self.webpackChunksakai=self.webpackChunksakai||[]).push([[432],{2432:(G,v,r)=>{r.r(v),r.d(v,{ReimbursementModule:()=>V});var u=r(9808),o=r(2382),h=r(8952),l=r(845),c=r(1424),T=r(2841),g=r(5787),Z=r(6526),b=r(4036),P=r(8185),C=r(7773),J=r(4776),f=r(8018),R=r(4534),y=r(5315),B=r(4423),S=r(7010),I=r(3407),U=r(9603),N=r(5652),d=r(2047);class j{}var e=r(1223),p=r(4004),x=r(520);let z=(()=>{class n{constructor(t){this.http=t}getAllReimbursement(){return this.http.get("/api/reimbursement").pipe((0,p.U)(t=>t))}getTopReimbursement(){return this.http.get("/api/reimbursement/current").pipe((0,p.U)(t=>t))}addReimbursement(t){return this.http.post("/api/reimbursement",t).pipe((0,p.U)(a=>a))}}return n.\u0275fac=function(t){return new(t||n)(e.LFG(x.eN))},n.\u0275prov=e.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();var M=r(3611),F=r(6198),A=r(657);function $(n,m){1&n&&e._UZ(0,"p-progressSpinner",18)}const O=function(){return{width:"100%",overflow:"auto!important"}};function K(n,m){if(1&n&&(e.TgZ(0,"div",19),e._UZ(1,"div",20),e.qZA()),2&n){const t=e.oxw();e.xp6(1),e.Akn(e.DdM(3,O)),e.Q6J("mathjax",t.content)}}let Q=(()=>{class n{constructor(t,a,s){this.reimbursementService=t,this.router=a,this.fb=s,this.blockSpecialNumber=/^[^<>*!0-9]+$/,this.currentPetrolRateBoolean=!0,this.assumedAverageBoolean=!0,this.averageMaintenanceCostBoolean=!0,this.regex="^d{1,5}.?d{0,2}$"}ngOnInit(){this.reimbursementForm=this.fb.group({currentPetrolRate:["",[o.kI.required]],assumedAverage:["",[o.kI.required]],averageMaintenanceCost:["",o.kI.required],calculatedCost:["",o.kI.required]}),this.reimbursementService.getTopReimbursement().subscribe(t=>{this.reimbursementForm.patchValue({currentPetrolRate:t.currentPetrolRate,assumedAverage:t.assumedAverage,averageMaintenanceCost:t.averageMaintenanceCost,calculatedCost:t.calculatedCost}),console.log(this.reimbursementForm.value),console.log(t.calculatedCost),console.log(this.reimbursementForm.value.calculatedCost),this.content="$[ {{"+this.reimbursementForm.value.currentPetrolRate+"\\over "+this.reimbursementForm.value.assumedAverage+"} +"+this.reimbursementForm.value.averageMaintenanceCost+" }="+this.reimbursementForm.value.calculatedCost+"]$"}),this.showme()}showme(){console.log(this.reimbursementForm.value.currentPetrolRate)}Onchange(){console.log(this.reimbursementForm.value.currentPetrolRate),this.reimbursementForm.value.calculatedCost=Number(this.reimbursementForm.value.currentPetrolRate/this.reimbursementForm.value.assumedAverage)+Number(this.reimbursementForm.value.averageMaintenanceCost),this.content="$[{{"+this.reimbursementForm.value.currentPetrolRate+"\\over "+this.reimbursementForm.value.assumedAverage+"} +"+this.reimbursementForm.value.averageMaintenanceCost+" }="+this.reimbursementForm.value.calculatedCost+"]$"}Click(){this.currentPetrolRateBoolean=!this.currentPetrolRateBoolean,this.assumedAverageBoolean=!this.assumedAverageBoolean,this.averageMaintenanceCostBoolean=!this.averageMaintenanceCostBoolean}SaveParameters(){const t=new j;t.currentPetrolRate=this.reimbursementForm.value.currentPetrolRate,t.assumedAverage=this.reimbursementForm.value.assumedAverage,t.averageMaintenanceCost=this.reimbursementForm.value.averageMaintenanceCost,t.calculatedCost=this.reimbursementForm.value.calculatedCost,this.reimbursementService.addReimbursement(t).subscribe(()=>{this.Click(),alert("Saved Successfully")})}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(z),e.Y36(d.F0),e.Y36(o.qu))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-reimbursement"]],decls:35,vars:9,consts:[[1,"card","p-fluid"],[3,"formGroup"],["f","ngForm"],[1,"field","grid"],["htmlFor","currentPetrolRate",1,"col-12","mb-2","md:col-2","md:mb-0"],[1,"col-12","md:col-6"],["pInputText","","id","currentPetrolRate","formControlName","currentPetrolRate","pKeyFilter","num","mode","decimal","decimal","2","maxlength","10",3,"ngModel","ngModelChange"],[1,"col-12","mb-2","md:col-2","md:mb-0"],["htmlFor","assumedAverage",1,"col-12","mb-2","md:col-2","md:mb-0"],["pInputText","","id","assumedAverage","formControlName","assumedAverage","pKeyFilter","num","decimal","2","maxlength","10",3,"ngModel","ngModelChange"],["htmlFor","averageMaintenanceCost",1,"col-12","mb-2","md:col-2","md:mb-0"],["pInputText","","id","averageMaintenanceCost","formControlName","averageMaintenanceCost","pKeyFilter","num","decimal","2","maxlength","10",3,"ngModel","ngModelChange"],[1,"flex","justify-content-center"],[1,"flex","justify-content-center","col-12","mb-2","md:col-2"],["pButton","","pRipple","","label","Edit","icon","pi pi-pencil",1,"p-button-plain","p-button-success","mr-2","mb-2",3,"click"],["pButton","","pRipple","","p","","type","button","label","Save","icon","pi pi-save",1,"p-button-sm","p-button-raised","mr-2","mb-2",3,"click"],["class","flex justify-content-center autoResize",4,"ngIf"],["class","card",4,"ngIf"],[1,"flex","justify-content-center","autoResize"],[1,"card"],["max-width","250px",1,"flex","justify-content-center","autoResize",2,"font-size","400%",3,"mathjax"]],template:function(t,a){1&t&&(e.TgZ(0,"div",0)(1,"h5"),e._uU(2,"Reimbursement Parameters"),e.qZA(),e.TgZ(3,"form",1,2)(5,"div",3)(6,"label",4),e._uU(7,"Current Petrol Rate"),e.qZA(),e.TgZ(8,"div",5)(9,"input",6),e.NdJ("ngModelChange",function(){return a.Onchange()})("ngModelChange",function(i){return a.reimbursementForm.value.currentPetrolRate=i}),e.qZA()(),e.TgZ(10,"label",7),e._uU(11,"\u20b9"),e.qZA()(),e.TgZ(12,"div",3)(13,"label",8),e._uU(14,"Assumed Average"),e.qZA(),e.TgZ(15,"div",5)(16,"input",9),e.NdJ("ngModelChange",function(){return a.Onchange()})("ngModelChange",function(i){return a.reimbursementForm.value.assumedAverage=i}),e.qZA()(),e.TgZ(17,"label",7),e._uU(18,"Km/L"),e.qZA()(),e.TgZ(19,"div",3)(20,"label",10),e._uU(21,"Average Maintenance Cost"),e.qZA(),e.TgZ(22,"div",5)(23,"input",11),e.NdJ("ngModelChange",function(i){return a.reimbursementForm.value.averageMaintenanceCost=i})("ngModelChange",function(){return a.Onchange()}),e.qZA()(),e.TgZ(24,"label",7),e._uU(25,"/Km"),e.qZA()(),e.TgZ(26,"div",12)(27,"div",13)(28,"button",14),e.NdJ("click",function(){return a.Click()}),e.qZA(),e.TgZ(29,"button",15),e.NdJ("click",function(){return a.SaveParameters()}),e.qZA()()()()(),e.TgZ(30,"div",0)(31,"h5"),e._uU(32,"Reimbursement Calculations"),e.qZA(),e.YNc(33,$,1,0,"p-progressSpinner",16),e.YNc(34,K,2,4,"div",17),e.qZA()),2&t&&(e.xp6(3),e.Q6J("formGroup",a.reimbursementForm),e.xp6(6),e.Q6J("ngModel",a.reimbursementForm.value.currentPetrolRate),e.uIk("disabled",!!a.currentPetrolRateBoolean||null),e.xp6(7),e.Q6J("ngModel",a.reimbursementForm.value.assumedAverage),e.uIk("disabled",!!a.assumedAverageBoolean||null),e.xp6(7),e.Q6J("ngModel",a.reimbursementForm.value.averageMaintenanceCost),e.uIk("disabled",!!a.averageMaintenanceCostBoolean||null),e.xp6(10),e.Q6J("ngIf",""==a.reimbursementForm.value.calculatedCost),e.xp6(1),e.Q6J("ngIf",""!=a.reimbursementForm.value.calculatedCost))},dependencies:[u.O5,o._Y,o.Fj,o.JJ,o.JL,o.nD,l.Hq,c.o,g.H,M.Ls,F.G,A.Fr,o.sg,o.u]}),n})(),Y=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=e.oAB({type:n}),n.\u0275inj=e.cJS({imports:[d.Bz.forChild([{path:"",component:Q}]),d.Bz]}),n})();var L=r(405);let V=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=e.oAB({type:n}),n.\u0275inj=e.cJS({imports:[u.ez,Y,o.u5,h.U$,f.Xt,l.hJ,J.JH,c.j,T.KZ,g.T,Z.q4,b.kW,P.q,C.EV,R.V,u.ez,h.U$,B.O,o.u5,l.hJ,g.T,C.EV,R.V,f.Xt,c.j,I.A,b.kW,U.cc,S.L$,y.S,N._8,L.k,M.aO.forRoot(),F.L,A.kK,o.u5,o.UX]}),n})()}}]);